(this.webpackJsonpxebia=this.webpackJsonpxebia||[]).push([[4],{437:function(e,t,a){},440:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(68),r=a(60),u=a(432),i=a(433);function o(){var e=Object(u.a)(["\n        background-color: ",";\n        width: 12px;\n        height: 12px;\n        "]);return o=function(){return e},e}var m=function(e){var t=Object(r.b)(),a=Object(r.c)((function(e){return e.products})).cartCount,n=i.a.span(o(),e.product.colour.color);return c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product-image"},c.a.createElement("img",{src:e.product.image,alt:e.product.title}),e.product.discount>0&&c.a.createElement("span",{className:"product-discount"}," ",e.product.discount,"% ")),c.a.createElement("div",{className:"product-details"},c.a.createElement("div",{className:"product-left-column"},c.a.createElement("h3",{className:"product-name"},e.product.title.length>25?e.product.title.substr(0,25).concat("..."):e.product.title),c.a.createElement("h3",{className:"product-brand"},e.product.brand),c.a.createElement("span",{className:"product-price"},"Rs. ",Number(e.product.price.final_price).toFixed(2))),c.a.createElement("div",{className:"product-right-column"},c.a.createElement(n,null),c.a.createElement("button",{className:"button--primary",onClick:function(e){t(Object(l.a)(a+1))}},"Add To Cart"))))},s=a(133),d=a(82),p=a(106),f=a.n(p);var b=function(e){var t=Object(r.b)(),a=Object(n.useState)([]),u=Object(d.a)(a,2),i=u[0],o=u[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),b=p[0],E=p[1],v=Object(n.useState)([]),h=Object(d.a)(v,2),O=h[0],g=h[1],j=Object(n.useState)([]),N=Object(d.a)(j,2),x=N[0],k=N[1],y=Object(n.useState)([]),C=Object(d.a)(y,2),S=C[0],w=C[1],M=Object(r.c)((function(e){return e.products})),_=M.productList,D=M.selectedColors,F=M.selectedBrands,P=M.minSelectedDiscount,B=M.maxSelectedDiscount,J=M.minSelectedPrice,L=M.maxSelectedPrice;Object(n.useEffect)((function(){var e={},t=[],a=[];_.forEach((function(a){t.push(a.brand),e[a.colour.color]=a.colour.title})),k(Object(s.a)(new Set(t))),g(Object.entries(e));for(var n=10;n<90;n+=10)a.push(n);w(a)}),[_]),Object(n.useEffect)((function(){f.a.get("https://xebiascart.herokuapp.com/filters").then((function(e){if(e.data.length&&e.data[2]){var t=e.data[2].values.filter((function(e){return"Max"!==e.key})),a=e.data[2].values.filter((function(e){return"Min"!==e.key}));o(t),E(a)}}))}),[]);var R=function(e){return function(a){console.log(e,a.target.value),"min"!==e||isNaN(a.target.value)||t(Object(l.h)(a.target.value)),"max"!==e||isNaN(a.target.value)||t(Object(l.f)(a.target.value))}},V=function(e){return function(a){console.log(e,a.target.value),"min"!==e||isNaN(a.target.value)||t(Object(l.i)(a.target.value)),"max"!==e||isNaN(a.target.value)||t(Object(l.g)(a.target.value))}};return c.a.createElement("div",{className:"filters-container"},c.a.createElement("div",{className:"filters-header"},c.a.createElement("h3",null,"Filters")," ",c.a.createElement("button",{onClick:function(e){t(Object(l.c)())},className:"reset-button"},"Reset ")),c.a.createElement("form",null,c.a.createElement("div",{className:"filters-item"},c.a.createElement("h4",null,"Colour"),c.a.createElement("ul",null,O&&O.map((function(e){var a,n=Object(d.a)(e,2),r=n[0],u=n[1];return c.a.createElement("li",{key:r},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:r,onChange:(a=u,function(e){var n=D,c=n.indexOf(a);-1===c?n.push(a):n.splice(c,1),t(Object(l.e)(Object(s.a)(new Set(n))))}),checked:!(!D||-1===D.indexOf(u))}),c.a.createElement("span",null,u)))})))),c.a.createElement("div",{className:"filters-item"},c.a.createElement("h4",null,"Brand"),c.a.createElement("ul",null,x&&x.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",value:e,onChange:(a=e,function(e){var n=F,c=n.indexOf(a);-1===c?n.push(a):n.splice(c,1),t(Object(l.d)(Object(s.a)(new Set(n))))}),checked:!(!F||-1===F.indexOf(e))}),c.a.createElement("span",null,e)));var a})))),c.a.createElement("div",{className:"filters-item"},c.a.createElement("h4",null,"Price"),c.a.createElement("div",{className:"dropldown-filters"},c.a.createElement("select",{name:"min_price","aria-label":"minimum price",onChange:V("min"),value:J},i.map((function(e){return c.a.createElement("option",{value:e.key,key:"min-".concat(e.key),onChange:function(e){return V("min")}},e.displayValue)}))),c.a.createElement("select",{name:"max_price","aria-label":"maximum price",onChange:V("max"),value:L||"Max"},c.a.createElement("option",{value:"Max",key:"max"},"Max"),b.map((function(e){return c.a.createElement("option",{value:e.key,key:"min-".concat(e.key)},e.displayValue)}))))),c.a.createElement("div",{className:"filters-item dropldown-filters"},c.a.createElement("h4",null,"Discount"),c.a.createElement("div",{className:"dropldown-filters"},c.a.createElement("select",{name:"min_discount","aria-label":"minimum discount",onChange:R("min"),value:P||0},c.a.createElement("option",{value:"0",key:"min"},"Min"),S.map((function(e){return c.a.createElement("option",{value:e,key:"min-".concat(e)},e,"%")}))),c.a.createElement("select",{name:"max_discount","aria-label":"maximum discount",onChange:R("max"),value:B},c.a.createElement("option",{value:S[S.length-1],key:"max"},"Max"),S.map((function(e){return c.a.createElement("option",{value:e,key:"min-".concat(e),onChange:R("max")},e,"%")})))))))};a(437);t.default=function(e){var t=Object(r.c)((function(e){return e.products})).productList,a=Object(r.b)();return Object(n.useEffect)((function(){console.log("get all products"),a(Object(l.b)())}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(b,null),c.a.createElement("div",{className:"product-container"},t.length>0?t.map((function(e){return c.a.createElement(m,{key:e.id,product:e})})):c.a.createElement("div",{className:"no-results"},"No results found.")))}}}]);
//# sourceMappingURL=4.0caf81ab.chunk.js.map